<!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- UIkit CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.15.6/dist/css/uikit.min.css" />
  <!-- UIkit JS -->
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.15.6/dist/js/uikit.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.15.6/dist/js/uikit-icons.min.js"></script>
  <style>
    .inactive {
      display: none !important;
    }
    .uk-button-group .uk-button:not(:first-child) {
      flex: 1;
    }
    .uk-button-group .uk-button:first-child {
      flex: 0;
    }
  </style>
</head>
<html>
  <body class="uk-container">
    <div uk-alert id="unavailable" class="inactive uk-alert-danger">
      <h3>Your browser don't support <string>webkitSpeechRecognition</string> which we need.</h3>
    </div>
    <div id="main" style="margin-top: 10px;">
      <input class="uk-input uk-width-1-1 uk-width-1-2@s" id="input-text" name="" placeholder="輸入任何中文字" oninput="inputTextUpdated(event)" />
      <div class="uk-button-group uk-margin-small uk-width-1-1 uk-width-1-3@s">
        <button class="uk-button uk-button-default" onclick="resetClicked(event)">Reset</button>
        <button class="uk-button uk-button-danger" id="start-record-btn" onclick="startRecordClicked(event)">Start Record</button>
        <button class="uk-button uk-button-secondary inactive" id="end-record-btn" onclick="endRecordClicked(event)">End Record</button>
      </div>
      <div id="start-hint" class="uk-text-meta uk-margin" style="text-align: center;">
        <span uk-icon="commenting"></span>
        請按 Start Record 並授權麥克風開始查詢
      </div>
      <div id="no-result-hint" class="uk-text-meta uk-margin inactive" style="text-align: center;">
        <span uk-icon="commenting"></span>
        沒有結果
      </div>
      <div id="loading-spinner" class="uk-width-1-1 uk-margin inactive" style="text-align: center;" uk-spinner></div>
      <table id="search-table" class="uk-table uk-table-divider inactive">
        <thead>
          <tr>
            <th class="uk-width-1-2">桌名</th>
            <th class="uk-width-1-2">名字</th>
            <th class="uk-width-small">分數</th>
          </tr>
        </thead>
        <tbody id="result"></tbody>
      </table>
      <script id="result-template" type="text/template" class="row" data-tagname="tr">
        <td><label>{{groupName}}</label></td>
        <td>{{name}}</td>
        <td class="uk-text-nowrap">{{score}}</td>
      </script>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="/static/main.js"></script>
  </body>
</html>